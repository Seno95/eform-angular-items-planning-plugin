<div
  [config]="{ ignoreBackdropClick: true }"
  mdbModal
  class="modal fade"
  #frame="mdbModal"
>
  <div class="modal-dialog modal-lg modal-dialog-scrollable">
    <div class="modal-content">
      <div class="modal-header">
        <h3>{{ 'Assign Sites' }}</h3>
        <button class="close" data-dismiss="modal" (click)="hide()">
          <span>Ã—</span>
        </button>
      </div>
      <div class="modal-body table-responsive">
        <table class="table table-xs table-bordered text-center z-depth-1">
          <thead>
            <tr>
              <th>Microting ID</th>
              <th>{{ 'Device user' | translate }}</th>
              <th>{{ 'Check to pair' | translate }}</th>
            </tr>
          </thead>
          <tbody id="pairingModalTableBody">
            <tr *ngFor="let siteDto of sitesDto">
              <td class="align-middle">{{ siteDto.siteUId }}</td>
              <td class="align-middle">{{ siteDto.siteName }}</td>
              <td class="align-middle">
                <ng-container
                  *ngFor="
                    let assignment of assignViewModel.assignments;
                    let i = index
                  "
                >
                  <div
                    class="mat-checkbox"
                    *ngIf="assignment.siteId == siteDto.id"
                  >
                    <input
                      id="checkboxAssignment{{ i }}"
                      (change)="addToArray($event, assignment.siteId)"
                      [checked]="assignment.isChecked"
                      [value]="assignment.isChecked"
                      color="primary"
                      type="checkbox"
                    />
                    <label for="checkboxAssignment{{ i }}"></label>
                  </div>
                </ng-container>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
      <div class="modal-footer">
        <button
          mdbBtn
          class="btn-success btn-small-height"
          (click)="submitAssignment()"
          id="changeAssignmentsSave"
        >
          {{ 'Save' }}
        </button>
        <button
          mdbBtn
          class="btn-accent text-black-50 btn-small-height"
          (click)="hide()"
          id="changeAssignmentsCancel"
        >
          {{ 'Cancel' }}
        </button>
      </div>
    </div>
  </div>
</div>
