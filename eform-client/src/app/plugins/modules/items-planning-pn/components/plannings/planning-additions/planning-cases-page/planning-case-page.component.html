<eform-subheader> </eform-subheader>

<div class="container-fluid">
  <div class="row p-1 mt-4 table-responsive no-gutters">
    <table
      mdbTable
      striped="true"
      hover="true"
      small="true"
      class="z-depth-1 text-center"
    >
      <thead
        table-headers
        [tableHeaders]="tableHeaders"
        [currentSortName]="localPageSettings.sort"
        (sortChanged)="sortTable($event)"
        [isSortDsc]="planningCaseRequestModel.isSortDsc"
      ></thead>
      <!--      <thead>-->
      <!--      <tr>-->
      <!--        <th scope="col" class="table-header-sortable" id="idTableHeader"-->
      <!--            (click)="sortTable('Id')">-->
      <!--          <div class="d-flex align-items-center justify-content-center">-->
      <!--            ID-->
      <!--            <i class="material-icons text-black-50" *ngIf="localPageSettings.sort != 'Id'">unfold_more</i>-->
      <!--            <i class="material-icons"-->
      <!--               *ngIf="localPageSettings.sort == 'Id' && !planningCaseRequestModel.isSortDsc">expand_less</i>-->
      <!--            <i class="material-icons"-->
      <!--               *ngIf="localPageSettings.sort == 'Id' && planningCaseRequestModel.isSortDsc">expand_more</i>-->
      <!--          </div>-->
      <!--        </th>-->
      <!--        <th scope="col" class="table-header-sortable" id="dateTableHeader"-->
      <!--            (click)="sortTable('CreatedAt')">-->
      <!--          <div class="d-flex align-items-center justify-content-center">-->
      <!--            {{'Date' | translate}}-->
      <!--            <i class="material-icons text-black-50" *ngIf="localPageSettings.sort != 'CreatedAt'">unfold_more</i>-->
      <!--            <i class="material-icons"-->
      <!--               *ngIf="localPageSettings.sort == 'CreatedAt' && !planningCaseRequestModel.isSortDsc">expand_less</i>-->
      <!--            <i class="material-icons"-->
      <!--               *ngIf="localPageSettings.sort == 'CreatedAt' && planningCaseRequestModel.isSortDsc">expand_more</i>-->
      <!--          </div>-->
      <!--        </th>-->
      <!--        <th scope="col" class="table-header-sortable" id="numberTableHeader"-->
      <!--            (click)="sortTable('ItemNumber')">-->
      <!--          <div class="d-flex align-items-center justify-content-center">-->
      <!--            {{'Number' | translate}}-->
      <!--            <i class="material-icons text-black-50" *ngIf="localPageSettings.sort != 'ItemNumber'">unfold_more</i>-->
      <!--            <i class="material-icons"-->
      <!--               *ngIf="localPageSettings.sort == 'ItemNumber' && !planningCaseRequestModel.isSortDsc">expand_less</i>-->
      <!--            <i class="material-icons"-->
      <!--               *ngIf="localPageSettings.sort == 'ItemNumber' && planningCaseRequestModel.isSortDsc">expand_more</i>-->
      <!--          </div>-->
      <!--        </th>-->
      <!--        <th scope="col" class="table-header-sortable" id="buildYearTableHeader"-->
      <!--            (click)="sortTable('BuildYear')">-->
      <!--          <div class="d-flex align-items-center justify-content-center">-->
      <!--            {{'Build Year' | translate}}-->
      <!--            <i class="material-icons text-black-50" *ngIf="localPageSettings.sort != 'BuildYear'">unfold_more</i>-->
      <!--            <i class="material-icons"-->
      <!--               *ngIf="localPageSettings.sort == 'BuildYear' && !planningCaseRequestModel.isSortDsc">expand_less</i>-->
      <!--            <i class="material-icons"-->
      <!--               *ngIf="localPageSettings.sort == 'BuildYear' && planningCaseRequestModel.isSortDsc">expand_more</i>-->
      <!--          </div>-->
      <!--        </th>-->
      <!--        <th scope="col" class="table-header-sortable" id="descriptionTableHeader"-->
      <!--            (click)="sortTable('Description')">-->
      <!--          <div class="d-flex align-items-center justify-content-center">-->
      <!--            {{'Description' | translate}}-->
      <!--            <i class="material-icons text-black-50" *ngIf="localPageSettings.sort != 'Description'">unfold_more</i>-->
      <!--            <i class="material-icons"-->
      <!--               *ngIf="localPageSettings.sort == 'Description' && !planningCaseRequestModel.isSortDsc">expand_less</i>-->
      <!--            <i class="material-icons"-->
      <!--               *ngIf="localPageSettings.sort == 'Description' && planningCaseRequestModel.isSortDsc">expand_more</i>-->
      <!--          </div>-->
      <!--        </th>-->
      <!--        <th scope="col" class="table-header-sortable" id="typeTableHeader"-->
      <!--            (click)="sortTable('Type')">-->
      <!--          <div class="d-flex align-items-center justify-content-center">-->
      <!--            {{'Type' | translate}}-->
      <!--            <i class="material-icons text-black-50" *ngIf="localPageSettings.sort != 'Type'">unfold_more</i>-->
      <!--            <i class="material-icons"-->
      <!--               *ngIf="localPageSettings.sort == 'Type' && !planningCaseRequestModel.isSortDsc">expand_less</i>-->
      <!--            <i class="material-icons"-->
      <!--               *ngIf="localPageSettings.sort == 'Type' && planningCaseRequestModel.isSortDsc">expand_more</i>-->
      <!--          </div>-->
      <!--        </th>-->
      <!--        <th scope="col" class="table-header-sortable" id="locationTypeTableHeader"-->
      <!--            (click)="sortTable('Location')">-->
      <!--          <div class="d-flex align-items-center justify-content-center">-->
      <!--            {{'Location' | translate}}-->
      <!--            <i class="material-icons text-black-50" *ngIf="localPageSettings.sort != 'Location'">unfold_more</i>-->
      <!--            <i class="material-icons"-->
      <!--               *ngIf="localPageSettings.sort == 'Location' && !planningCaseRequestModel.isSortDsc">expand_less</i>-->
      <!--            <i class="material-icons"-->
      <!--               *ngIf="localPageSettings.sort == 'Location' && planningCaseRequestModel.isSortDsc">expand_more</i>-->
      <!--          </div>-->
      <!--        </th>-->
      <!--        <th scope="col" class="table-header-sortable" id="statusTypeTableHeader"-->
      <!--            (click)="sortTable('FieldStatus')">-->
      <!--          <div class="d-flex align-items-center justify-content-center">-->
      <!--            {{'Status' | translate}}-->
      <!--            <i class="material-icons text-black-50" *ngIf="localPageSettings.sort != 'FieldStatus'">unfold_more</i>-->
      <!--            <i class="material-icons"-->
      <!--               *ngIf="localPageSettings.sort == 'FieldStatus' && !planningCaseRequestModel.isSortDsc">expand_less</i>-->
      <!--            <i class="material-icons"-->
      <!--               *ngIf="localPageSettings.sort == 'FieldStatus' && planningCaseRequestModel.isSortDsc">expand_more</i>-->
      <!--          </div>-->
      <!--        </th>-->
      <!--        <th scope="col" class="table-header-sortable" id="commentTypeTableHeader"-->
      <!--            (click)="sortTable('Comment')">-->
      <!--          <div class="d-flex align-items-center justify-content-center">-->
      <!--            {{'Comment' | translate}}-->
      <!--            <i class="material-icons text-black-50" *ngIf="localPageSettings.sort != 'Comment'">unfold_more</i>-->
      <!--            <i class="material-icons"-->
      <!--               *ngIf="localPageSettings.sort == 'Comment' && !planningCaseRequestModel.isSortDsc">expand_less</i>-->
      <!--            <i class="material-icons"-->
      <!--               *ngIf="localPageSettings.sort == 'Comment' && planningCaseRequestModel.isSortDsc">expand_more</i>-->
      <!--          </div>-->
      <!--        </th>-->
      <!--        <th scope="col" class="table-header-sortable" id="numberOfPicturesTableHeader"-->
      <!--            (click)="sortTable('NumberOfImages')">-->
      <!--          <div class="d-flex align-items-center justify-content-center">-->
      <!--            {{'Number of pictures' | translate}}-->
      <!--            <i class="material-icons text-black-50" *ngIf="localPageSettings.sort != 'NumberOfImages'">unfold_more</i>-->
      <!--            <i class="material-icons"-->
      <!--               *ngIf="localPageSettings.sort == 'NumberOfImages' && !planningCaseRequestModel.isSortDsc">expand_less</i>-->
      <!--            <i class="material-icons"-->
      <!--               *ngIf="localPageSettings.sort == 'NumberOfImages' && planningCaseRequestModel.isSortDsc">expand_more</i>-->
      <!--          </div>-->
      <!--        </th>-->
      <!--        <th scope="col" class="table-header-sortable" id="pdfTableHeader">-->
      <!--          <div class="d-flex align-items-center justify-content-center">-->
      <!--            {{'PDF' | translate}}-->
      <!--          </div>-->
      <!--        </th>-->
      <!--        <th scope="col">-->
      <!--          {{ 'Actions' | translate }}-->
      <!--        </th>-->
      <!--      </tr>-->
      <!--      </thead>-->
      <tbody id="tableBody">
        <tr *ngFor="let planningCase of casesModel.items">
          <td id="caseId">
            {{ planningCase.id }}
          </td>
          <td>
            <date-formatter
              [date]="planningCase.date"
              [Format]="'datetime'"
            ></date-formatter>
          </td>
          <td>
            {{ planningCase.planningNumber }}
          </td>
          <td>
            {{ planningCase.buildYear }}
          </td>
          <td>
            {{ planningCase.description }}
          </td>
          <td>
            {{ planningCase.type }}
          </td>
          <td>
            {{ planningCase.location }}
          </td>
          <td>
            {{ planningCase.fieldStatus }}
          </td>
          <td>
            {{ planningCase.comment }}
          </td>
          <td>
            {{ planningCase.numberOfImages }}
          </td>
          <td>
            <button
              mdbBtn
              class="btn-success"
              (click)="showPlanningCasePdfModal(planningCase)"
              mdbTooltip="{{ 'Show/Edit PDF' | translate }}"
            >
              <fa-icon icon="pen" size="lg" [fixedWidth]="true"></fa-icon>
            </button>
          </td>
          <td>
            <button
              mdbBtn
              class="btn-success btn-icon mb-2"
              *ngIf="planningCase.status === 100"
              [routerLink]="[
                '/cases/edit/' +
                  planningCase.sdkCaseId +
                  '/' +
                  planningCase.sdkeFormId
              ]"
              mdbTooltip="{{ 'Edit Case' | translate }}"
            >
              <fa-icon icon="pen" size="lg" [fixedWidth]="true"></fa-icon>
            </button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
  <div class="row justify-content-between mr-2 ml-2">
    <div class="col-md-1">
      <eform-page-size
        [pageSize]="localPageSettings.pageSize"
        (onPageSizeChanged)="
          localPageSettings.pageSize = $event;
          planningCaseRequestModel.pageIndex = 1;
          updateLocalPageSettings()
        "
      >
      </eform-page-size>
    </div>
    <div class="col-md-4 ml-auto d-flex justify-content-end p-2">
      <eform-pagination
        [limit]="planningCaseRequestModel.pageSize"
        [size]="casesModel.total"
        [offset]="planningCaseRequestModel.offset"
        (onPageChanged)="changePage($event)"
      >
      </eform-pagination>
    </div>
  </div>
</div>
